<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TruePart Studio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0a0a;
            color: #fff;
            overflow-x: hidden;
        }

        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #1a0000 0%, #330000 50%, #1a0000 100%);
            box-shadow: 0 4px 20px rgba(255, 0, 0, 0.3);
            z-index: 1000;
        }

        nav {
            display: flex;
            gap: 40px;
            justify-content: center;
            padding: 20px 40px;
            background: rgba(0, 0, 0, 0.5);
        }

        .nav-btn {
            background: transparent;
            color: #fff;
            border: none;
            padding: 0;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            letter-spacing: 2px;
            position: relative;
        }

        .nav-btn::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: #ff0000;
            transition: width 0.3s ease;
        }

        .nav-btn:hover::after {
            width: 100%;
        }

        .nav-btn:hover {
            color: #ff0000;
        }

        .nav-btn.active {
            color: #ff0000;
        }

        .nav-btn.active::after {
            width: 100%;
        }

        .brand-bar {
            background: linear-gradient(135deg, #000000 0%, #1a0000 100%);
            padding: 30px 40px;
            text-align: center;
            border-top: 1px solid rgba(255, 0, 0, 0.3);
        }

        h1 {
            font-size: 3em;
            background: linear-gradient(135deg, #ff0000, #ff6666);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
            letter-spacing: 4px;
        }

        .main-content {
            margin-top: 180px;
            min-height: calc(100vh - 180px);
        }

        .page {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .page.active {
            display: block;
            opacity: 1;
        }

        /* Home Page Styles */
        .hero-section {
            height: 100vh;
            background: linear-gradient(135deg, #1a0000 0%, #000000 50%, #330000 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        #cubeCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        .hero-content {
            text-align: center;
            z-index: 10;
            max-width: 900px;
            padding: 40px;
            position: relative;
        }

        .hero-title {
            font-size: 4em;
            margin-bottom: 30px;
            background: linear-gradient(135deg, #ff0000, #ffffff, #ff0000);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shimmer 3s infinite;
            background-size: 200% auto;
        }

        @keyframes shimmer {
            0%, 100% { background-position: 0% center; }
            50% { background-position: 100% center; }
        }

        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            animation: bounce 2s infinite;
            z-index: 10;
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-20px); }
        }

        .scroll-indicator::before {
            content: '‚ñº';
            font-size: 2em;
            color: #ff0000;
            display: block;
        }

        .goal-section {
            min-height: 100vh;
            background: linear-gradient(180deg, #000000 0%, #1a0000 100%);
            padding: 100px 40px;
            position: relative;
        }

        .goal-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, #ff0000, transparent);
        }

        .goal-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .goal-content h2 {
            font-size: 3em;
            margin-bottom: 40px;
            background: linear-gradient(135deg, #ff0000, #ff6666);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .goal-text {
            font-size: 1.4em;
            line-height: 2;
            color: #ccc;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        /* Games Page Styles */
        .games-container {
            padding: 60px 40px;
            max-width: 1400px;
            margin: 0 auto;
            min-height: 100vh;
        }

        .games-container h2 {
            font-size: 3em;
            margin-bottom: 40px;
            background: linear-gradient(135deg, #ff0000, #ff6666);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
        }

        .game-card {
            background: linear-gradient(135deg, #1a0000, #0a0a0a);
            border: 2px solid #ff0000;
            border-radius: 0;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 10px 40px rgba(255, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(255, 0, 0, 0.4);
        }

        .game-header {
            display: flex;
            gap: 30px;
            margin-bottom: 20px;
        }

        .game-icon {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border: 2px solid #ff0000;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.3);
        }

        .game-info h3 {
            font-size: 2em;
            background: linear-gradient(135deg, #ff0000, #ff6666);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
        }

        .game-stats {
            display: flex;
            gap: 20px;
            margin-top: 15px;
        }

        .stat {
            background: rgba(255, 0, 0, 0.1);
            border: 1px solid #ff0000;
            padding: 10px 20px;
            font-weight: 600;
            font-size: 1.1em;
        }

        .game-thumbnail {
            width: 100%;
            max-width: 700px;
            border: 2px solid #ff0000;
            margin-top: 20px;
            box-shadow: 0 0 30px rgba(255, 0, 0, 0.3);
        }

        .loading {
            text-align: center;
            padding: 60px;
            font-size: 1.5em;
            color: #ff0000;
        }

        /* Team Page Styles */
        .team-container {
            padding: 60px 40px;
            max-width: 1400px;
            margin: 0 auto;
            min-height: 100vh;
        }

        .team-container h2 {
            font-size: 3em;
            margin-bottom: 60px;
            background: linear-gradient(135deg, #ff0000, #ff6666);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
        }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
        }

        .team-card {
            background: linear-gradient(135deg, #1a0000, #0a0a0a);
            border: 2px solid #ff0000;
            padding: 50px 30px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(255, 0, 0, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .team-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 0, 0, 0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .team-card:hover::before {
            opacity: 1;
        }

        .team-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 60px rgba(255, 0, 0, 0.4);
        }

        .team-card h3 {
            font-size: 2em;
            margin-bottom: 15px;
            color: #ff0000;
            position: relative;
            z-index: 1;
        }

        .team-card p {
            font-size: 1.2em;
            color: #ccc;
            position: relative;
            z-index: 1;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <button class="nav-btn active" onclick="showPage('home')">HOME</button>
            <button class="nav-btn" onclick="showPage('games')">OUR GAMES</button>
            <button class="nav-btn" onclick="showPage('team')">MEET THE TEAM</button>
        </nav>
        <div class="brand-bar">
            <h1>TRUEPART</h1>
        </div>
    </header>

    <div class="main-content">
        <div id="home" class="page active">
            <div class="hero-section">
                <canvas id="cubeCanvas"></canvas>
                <div class="hero-content">
                    <h2 class="hero-title">CRAFTING EXPERIENCES</h2>
                    <p style="font-size: 1.3em; color: #ccc;">Where creativity meets quality</p>
                </div>
                <div class="scroll-indicator"></div>
            </div>
            
            <div class="goal-section">
                <div class="goal-content">
                    <h2>Our Mission</h2>
                    <p class="goal-text">
                        At TruePart Studio, we're committed to creating unique and creative Roblox games that stand out from the crowd. 
                        We don't make brain rot or slop games‚Äîwe put genuine effort into every project we create. 
                        We care deeply about the small details that make a game truly special, from polished mechanics to 
                        thoughtful design choices. Our passion is crafting experiences that players will remember and enjoy, 
                        not just another cookie-cutter game. Quality over quantity is our motto, and we're proud to bring 
                        creativity and care to the Roblox platform.
                    </p>
                </div>
            </div>
        </div>

        <div id="games" class="page">
            <div class="games-container">
                <h2>OUR GAMES</h2>
                <div id="gamesList">
                    <div class="loading">Loading games...</div>
                </div>
            </div>
        </div>

        <div id="team" class="page">
            <div class="team-container">
                <h2>MEET THE TEAM</h2>
                <div class="team-grid">
                    <div class="team-card">
                        <h3>TotallySpaghetti</h3>
                        <p>Developer & Creator</p>
                    </div>
                    <div class="team-card">
                        <h3>Bchanbuilds</h3>
                        <p>Developer & Creator</p>
                    </div>
                    <div class="team-card">
                        <h3>Oppy</h3>
                        <p>Developer & Creator</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ===== CONFIGURATION =====
        // Put your game PLACE IDs here (the number from the game URL)
        const GAME_PLACE_IDS = [
            89226104209047,
        ];
        // ===== END CONFIGURATION =====

        // 3D Cube Animation
        const canvas = document.getElementById('cubeCanvas');
        const ctx = canvas.getContext('2d');
        let cubeRotation = { x: 0.5, y: 0.5, z: 0 };
        let targetRotation = { x: 0.5, y: 0.5, z: 0 };
        let lastScrollY = window.scrollY;

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Create cube vertices with more dots
        function createCubePoints() {
            const size = 200;
            const points = [];
            const dotsPerEdge = 20;
            
            // Generate dots along all 12 edges of the cube
            for (let i = 0; i < dotsPerEdge; i++) {
                const t = i / (dotsPerEdge - 1);
                const offset = (t - 0.5) * 2 * size;
                
                // Bottom face - 4 edges
                points.push([-size, -size, offset]); // left edge
                points.push([size, -size, offset]);  // right edge
                points.push([offset, -size, -size]); // front edge
                points.push([offset, -size, size]);  // back edge
                
                // Top face - 4 edges
                points.push([-size, size, offset]);  // left edge
                points.push([size, size, offset]);   // right edge
                points.push([offset, size, -size]);  // front edge
                points.push([offset, size, size]);   // back edge
                
                // Vertical edges - 4 edges
                points.push([-size, offset, -size]); // front-left
                points.push([size, offset, -size]);  // front-right
                points.push([-size, offset, size]);  // back-left
                points.push([size, offset, size]);   // back-right
            }
            
            return points;
        }

        const cubePoints = createCubePoints();

        function rotatePoint(point, rotation) {
            let [x, y, z] = point;
            
            // Rotate around X axis
            let cosX = Math.cos(rotation.x);
            let sinX = Math.sin(rotation.x);
            let y1 = y * cosX - z * sinX;
            let z1 = y * sinX + z * cosX;
            y = y1;
            z = z1;
            
            // Rotate around Y axis
            let cosY = Math.cos(rotation.y);
            let sinY = Math.sin(rotation.y);
            let x1 = x * cosY + z * sinY;
            z1 = -x * sinY + z * cosY;
            x = x1;
            z = z1;
            
            // Rotate around Z axis
            let cosZ = Math.cos(rotation.z);
            let sinZ = Math.sin(rotation.z);
            let x2 = x * cosZ - y * sinZ;
            let y2 = x * sinZ + y * cosZ;
            
            return [x2, y2, z1];
        }

        function project(point) {
            const distance = 600;
            const z = point[2] + distance;
            const scale = distance / z;
            
            return {
                x: point[0] * scale + canvas.width / 2,
                y: point[1] * scale + canvas.height / 2,
                z: z,
                scale: scale
            };
        }

        function drawCube() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Smooth interpolation towards target rotation
            cubeRotation.x += (targetRotation.x - cubeRotation.x) * 0.1;
            cubeRotation.y += (targetRotation.y - cubeRotation.y) * 0.1;
            cubeRotation.z += (targetRotation.z - cubeRotation.z) * 0.1;
            
            // Rotate and project all points
            const projectedPoints = cubePoints.map(point => {
                const rotated = rotatePoint(point, cubeRotation);
                return project(rotated);
            });
            
            // Sort by depth for proper rendering
            const sortedPoints = projectedPoints.slice().sort((a, b) => b.z - a.z);
            
            // Draw dots
            sortedPoints.forEach(point => {
                const dotSize = 3 + point.scale * 1.5;
                const opacity = Math.min(0.9, Math.max(0.4, point.scale * 0.9));
                
                // Draw glow
                ctx.shadowBlur = 20;
                ctx.shadowColor = `rgba(255, 0, 0, ${opacity * 0.6})`;
                ctx.fillStyle = `rgba(255, 0, 0, ${opacity})`;
                ctx.beginPath();
                ctx.arc(point.x, point.y, dotSize, 0, Math.PI * 2);
                ctx.fill();
            });
            
            ctx.shadowBlur = 0;
        }

        function animate() {
            drawCube();
            requestAnimationFrame(animate);
        }

        // Handle scroll to rotate cube - much more responsive
        window.addEventListener('scroll', () => {
            const scrollDelta = window.scrollY - lastScrollY;
            targetRotation.y += scrollDelta * 0.005;
            targetRotation.x += scrollDelta * 0.003;
            lastScrollY = window.scrollY;
        });

        // Auto-rotate slowly when not scrolling
        setInterval(() => {
            targetRotation.y += 0.01;
            targetRotation.x += 0.005;
        }, 16);

        animate();

        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Remove active state from all buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(pageId).classList.add('active');
            
            // Add active state to clicked button
            event.target.classList.add('active');
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            // Load games if games page is selected
            if (pageId === 'games' && GAME_PLACE_IDS.length > 0) {
                loadGames();
            }
        }

        async function loadGames() {
            const gamesList = document.getElementById('gamesList');
            
            if (GAME_PLACE_IDS.length === 0) {
                gamesList.innerHTML = '<p class="loading">No games configured yet. Add your game place IDs to the GAME_PLACE_IDS array in the code.</p>';
                return;
            }

            gamesList.innerHTML = '<div class="loading">Loading games...</div>';
            
            try {
                // Use Cloudflare Worker proxy to fetch game data
                const placeIdString = GAME_PLACE_IDS.join(',');
                const url = `https://calm-waterfall-82e9.caestudios33.workers.dev/?placeIds=89226104209047`;
                
                const response = await fetch(url);
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const text = await response.text();
                let result;
                
                try {
                    result = JSON.parse(text);
                } catch (e) {
                    throw new Error(`Invalid JSON response: ${text.substring(0, 100)}...`);
                }
                
                if (!result || !result.data || result.data.length === 0) {
                    gamesList.innerHTML = `
                        <p class="loading">
                            Could not find games. Debugging info:<br><br>
                            URL: ${url}<br>
                            Response received: ${text.substring(0, 200)}...<br><br>
                            Your Cloudflare Worker might need CORS headers. Check the browser console for details.
                        </p>`;
                    return;
                }
                
                let gamesHTML = '';
                
                for (const game of result.data) {
                    gamesHTML += `
                        <div class="game-card">
                            <div class="game-header">
                                <img class="game-icon" src="${game.thumbnail || 'https://via.placeholder.com/120/ff0000/ffffff?text=No+Icon'}" alt="${game.name}">
                                <div class="game-info">
                                    <h3>${game.name}</h3>
                                    <div class="game-stats">
                                        <span class="stat">üë• ${game.playing?.toLocaleString() || '0'} PLAYING</span>
                                        <span class="stat">üëÅÔ∏è ${game.visits?.toLocaleString() || '0'} VISITS</span>
                                        <span class="stat">‚≠ê ${game.favoritedCount?.toLocaleString() || '0'} FAVORITES</span>
                                    </div>
                                </div>
                            </div>
                            <p style="font-size: 1.1em; color: #ccc; line-height: 1.6;">${game.description || 'No description available.'}</p>
                            ${game.thumbnail ? `<img class="game-thumbnail" src="${game.thumbnail}" alt="${game.name} thumbnail">` : ''}
                        </div>
                    `;
                }
                
                gamesList.innerHTML = gamesHTML || '<p class="loading">No games found.</p>';
            } catch (error) {
                gamesList.innerHTML = `
                    <p class="loading">
                        Error loading games: ${error.message}<br><br>
                        Open browser console (F12) for details.<br><br>
                        Common fixes:<br>
                        1. Make sure your Cloudflare Worker has CORS headers enabled<br>
                        2. Verify the Worker URL is correct<br>
                        3. Test the Worker URL directly in your browser
                    </p>`;
                console.error('Full error:', error);
            }
        }
    </script>
</body>
</html>
